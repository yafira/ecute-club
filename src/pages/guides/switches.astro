---
import BaseLayout from "../../layouts/BaseLayout.astro";
const title = "switches — ecute.club";
---
<BaseLayout {title}>
  <article class="container">
    <h1>switches</h1>
    <p>mechanical ways to connect or reroute a circuit. two axes: <em>poles</em> = how many independent circuits; <em>throws</em> = how many positions each pole can connect to.</p>

    <table class="cute">
      <thead><tr><th>type</th><th>expands to</th><th>use</th></tr></thead>
      <tbody>
        <tr><td>SPST</td><td>single-pole single-throw</td><td>simple on/off</td></tr>
        <tr><td>SPDT</td><td>single-pole double-throw</td><td>choose A or B</td></tr>
        <tr><td>DPDT</td><td>double-pole double-throw</td><td>flip two lines at once (e.g., polarity reverse)</td></tr>
        <tr><td>mom.</td><td>momentary</td><td>returns when released</td></tr>
        <tr><td>latching</td><td>stays in position</td><td>toggle/slide switches</td></tr>
      </tbody>
    </table>

    <h2>what do <span class="mono">COM</span>, <span class="mono">NO</span>, and <span class="mono">NC</span> mean?</h2>
    <ul>
      <li><strong>COM</strong> = the “common” pin (center of the decision).</li>
      <li><strong>NO</strong> = <em>normally open</em> (not connected at rest). Becomes connected when you actuate.</li>
      <li><strong>NC</strong> = <em>normally closed</em> (connected at rest). Opens when you actuate.</li>
    </ul>

    <div class="diagram halo" role="img" aria-label="SPDT switch: rest vs pressed (COM to NC/NO)">
      <svg viewBox="0 0 760 240" width="100%" height="auto">
        <rect x="0" y="0" width="760" height="240" rx="16" fill="var(--card)"/>
        <!-- left: REST -->
        <text x="120" y="46" class="mono">rest</text>
        <!-- nodes -->
        <circle cx="160" cy="150" r="9" fill="currentColor"/>
        <circle cx="340" cy="95" r="9" fill="currentColor"/>
        <circle cx="340" cy="200" r="9" fill="currentColor"/>
        <!-- labels -->
        <text x="138" y="174" class="mono">COM</text>
        <text x="352" y="99" class="mono">NO</text>
        <text x="352" y="204" class="mono">NC</text>
        <!-- connections (rest = COM→NC closed) -->
        <line x1="160" y1="150" x2="340" y2="200" stroke="currentColor" stroke-width="6"/>
        <line x1="160" y1="150" x2="340" y2="95"  stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>

        <!-- right: PRESSED -->
        <text x="500" y="46" class="mono">pressed / other position</text>
        <!-- nodes -->
        <circle cx="540" cy="150" r="9" fill="currentColor"/>
        <circle cx="720" cy="95"  r="9" fill="currentColor"/>
        <circle cx="720" cy="200" r="9" fill="currentColor"/>
        <text x="518" y="174" class="mono">COM</text>
        <text x="732" y="99" class="mono">NO</text>
        <text x="732" y="204" class="mono">NC</text>
        <!-- connections (pressed = COM→NO closed) -->
        <line x1="540" y1="150" x2="720" y2="95"  stroke="currentColor" stroke-width="6"/>
        <line x1="540" y1="150" x2="720" y2="200" stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>

        <!-- legend -->
        <rect x="20" y="190" width="210" height="36" rx="8" fill="var(--card)" stroke="var(--line)"/>
        <line x1="34" y1="208" x2="84" y2="208" stroke="currentColor" stroke-width="6"/>
        <text x="92" y="212" class="mono">closed (conducts)</text>
        <line x1="34" y1="224" x2="84" y2="224" stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>
        <text x="92" y="228" class="mono">open</text>
      </svg>
    </div>

    <p><strong>Momentary</strong> buttons only change connection while you hold them. <strong>Latching</strong> toggles stay where you leave them.</p>

    <h2>quick visuals: SPST vs SPDT vs DPDT</h2>
    <div class="diagram halo" role="img" aria-label="SPST/SPDT/DPDT mini visuals">
      <svg viewBox="0 0 760 160" width="100%" height="auto">
        <rect x="0" y="0" width="760" height="160" rx="16" fill="var(--card)"/>
        <!-- SPST -->
        <text x="70" y="36" class="mono">SPST</text>
        <circle cx="60" y="100" r="8" fill="currentColor"/>
        <circle cx="160" y="100" r="8" fill="currentColor"/>
        <line x1="60" y1="100" x2="160" y2="100" stroke="currentColor" stroke-width="6"/>
        <!-- SPDT -->
        <text x="320" y="36" class="mono">SPDT</text>
        <circle cx="300" y="100" r="8" fill="currentColor"/>
        <circle cx="400" y="70"  r="8" fill="currentColor"/>
        <circle cx="400" y="130" r="8" fill="currentColor"/>
        <line x1="300" y1="100" x2="400" y2="70"  stroke="currentColor" stroke-width="6"/>
        <line x1="300" y1="100" x2="400" y2="130" stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>
        <!-- DPDT (two SPDTs ganged) -->
        <text x="560" y="36" class="mono">DPDT</text>
        <!-- first pole -->
        <circle cx="540" y="80" r="8" fill="currentColor"/>
        <circle cx="640" y="60" r="8" fill="currentColor"/>
        <circle cx="640" y="100" r="8" fill="currentColor"/>
        <line x1="540" y1="80" x2="640" y2="60" stroke="currentColor" stroke-width="6"/>
        <line x1="540" y1="80" x2="640" y2="100" stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>
        <!-- second pole -->
        <circle cx="540" y="130" r="8" fill="currentColor"/>
        <circle cx="640" y="110" r="8" fill="currentColor"/>
        <circle cx="640" y="150" r="8" fill="currentColor"/>
        <line x1="540" y1="130" x2="640" y2="110" stroke="currentColor" stroke-width="6"/>
        <line x1="540" y1="130" x2="640" y2="150" stroke="color-mix(in oklab, var(--ink) 25%, transparent)" stroke-width="6"/>
      </svg>
    </div>

    <h2>wire a button to a microcontroller</h2>
    <p>Use an internal pull-up if available: the pin reads <strong>HIGH</strong> at rest and goes <strong>LOW</strong> when the button connects it to ground.</p>

    <div class="diagram halo" role="img" aria-label="Microcontroller pin with pull-up and button to GND">
      <svg viewBox="0 0 760 170" width="100%" height="auto">
        <rect x="0" y="0" width="760" height="170" rx="16" fill="var(--card)"/>
        <!-- VCC rail -->
        <line x1="70" y1="30" x2="710" y2="30" stroke="currentColor" stroke-width="3"/>
        <text x="30" y="34" class="mono">+V</text>
        <!-- MCU pin block -->
        <rect x="600" y="60" width="90" height="50" rx="8" fill="none" stroke="currentColor" stroke-width="3"/>
        <text x="607" y="90" class="mono">PIN</text>
        <!-- pull-up resistor -->
        <rect x="520" y="20" width="24" height="20" rx="4" fill="none" stroke="currentColor" stroke-width="2"/>
        <line x1="532" y1="40" x2="532" y2="85" stroke="currentColor" stroke-width="2"/>
        <text x="500" y="16" class="mono">10k</text>
        <!-- node to pin -->
        <circle cx="532" cy="85" r="4" fill="currentColor"/>
        <line x1="532" y1="85" x2="600" y2="85" stroke="currentColor" stroke-width="3"/>
        <!-- button to GND (SPST NO) -->
        <line x1="420" y1="85" x2="500" y2="85" stroke="currentColor" stroke-width="3"/>
        <rect x="448" y="75" width="24" height="20" rx="5" fill="none" stroke="currentColor" stroke-width="3"/>
        <line x1="460" y1="95" x2="460" y2="130" stroke="currentColor" stroke-width="3"/>
        <!-- ground rail -->
        <line x1="70" y1="140" x2="710" y2="140" stroke="currentColor" stroke-width="3"/>
        <text x="30" y="144" class="mono">0V</text>
        <line x1="460" y1="130" x2="460" y2="140" stroke="currentColor" stroke-width="3"/>
        <!-- labels -->
        <text x="384" y="80" class="mono">button</text>
        <text x="470" y="60" class="mono">NO</text>
        <text x="500" y="110" class="mono">node</text>
        <text x="520" y="60" class="mono">pull-up</text>
        <text x="604" y="120" class="mono">reads LOW when pressed</text>
      </svg>
    </div>

    <h2>debounce</h2>
    <p>contacts bounce for a few milliseconds. In code: ignore rapid changes for ~10–50&nbsp;ms. Hardware: add a 10&nbsp;kΩ + 0.1&nbsp;µF RC to the node, or use a Schmitt-trigger buffer.</p>
  </article>
</BaseLayout>
